(self.webpackChunksrc=self.webpackChunksrc||[]).push([[195],{7742:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var s=a(3161);const i=async e=>await s.Z.get("pages/"+e).then((e=>e.data))},8827:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s=a(1257).Z.create({baseURL:"http://localhost/wp-json/wc/v3/",headers:{Authorization:"Basic Y2tfY2EzMjdkNjY1NGUyNjUwOTljNjI3ODYyOWE3ODFmMzQ5ZmIwYmNlYTpjc19hNDQ0NDQyOTZiOTI1ODA2ZjhmMWMzM2I5N2RmNjJiMTA0NzhlM2Q2"}})},9268:(e,t,a)=>{"use strict";a.d(t,{d:()=>l});var s=a(2262);class i{loadedCounter=0;counter=0;constructor(e){this.counter=e}load(){this.loadedCounter++,this.afterLoad()}restart(e){e&&(this.counter=e),this.loadedCounter=0}onAllisLoaded;afterLoad(){if(this.loadedCounter==this.counter)return this.onAllisLoaded?this.onAllisLoaded():void 0}}const l=e=>({loader:(0,s.iH)(new i(e))})},1303:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(1820),i=a(6252);const l=e=>({page:(0,i.Fl)({get:()=>e.state.page.cfs,set:t=>e.commit(s.PQ.SET_PAGE_SETTINGS,t)})})},9956:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ee});var s=a(6252),i=a(2262),l=a(9268),o=a(8827),n=a(1820),r=a(3577),c=a(9917),u=a(1303),d=a(4966);const v={class:"first-section-wrapper"},p={class:"first-section"},_={class:"first-section-container container"},g={class:"first-section__image-box"},m=["src"],w={class:"first-section__description-box"},h=(e=>((0,s.dD)("data-v-f20c3496"),e=e(),(0,s.Cn)(),e))((()=>(0,s._)("div",{class:"first-section__line line"},null,-1))),f={class:"first-section__title title"},b={class:"product-description-rate"},D=["src"],y=["src"],x={class:"first-section__price"},k=["innerHTML"],H={class:"first-section__buttons"},S={class:"button first-section__button"},Z={class:"button button_white first-section__button"},I=(0,s.aZ)({__name:"first-section",props:{product:{}},emits:["load"],setup(e,{emit:t}){const{product:a}=e,l=t,o=(0,d.f)(),{page:n}=(0,u.p)(o),{app:I}=(0,c.H)(o),M=(0,i.iH)(Math.floor(a.average_rating)),U=(0,s.Fl)((()=>5-M.value));return(0,s.bv)((()=>{l("load")})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",p,[(0,s._)("div",_,[(0,s._)("div",g,[(0,s._)("img",{src:e.product.images[0].src,class:"first-section__image",alt:"first-section__image"},null,8,m)]),(0,s._)("div",w,[h,(0,s._)("p",f,(0,r.zw)(e.product.name),1),(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.value,((e,t)=>((0,s.wg)(),(0,s.iD)("img",{key:t,src:(0,i.SU)(I)["general_star-icon"],alt:"general_star-icon"},null,8,D)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.value,((e,t)=>((0,s.wg)(),(0,s.iD)("img",{key:t,src:(0,i.SU)(I)["general_in-star-icon"],alt:"general_in-star-icon"},null,8,y)))),128))]),(0,s._)("p",x,(0,r.zw)(e.product.price)+" ₽",1),(0,s._)("div",{class:"first-section__description",innerHTML:e.product.description},null,8,k),(0,s._)("div",H,[(0,s._)("button",S,(0,r.zw)((0,i.SU)(n)["first-section_button-text"]),1),(0,s._)("button",Z,(0,r.zw)((0,i.SU)(n)["first-section_button-conf-text"]),1)])])])])]))}});var M=a(3744);const U=(0,M.Z)(I,[["__scopeId","data-v-f20c3496"]]);var Y=a(7742),j=a(2201);const T={class:"review"},A={class:"review-description-rate"},C=["src"],L=["src"],z={class:"review-description-box"},K={class:"review-description-box__title"},N=["innerHTML"],R={class:"review-images"},F={class:"review-images__button"},O=["src","alt"],W=(0,s.aZ)({__name:"ProductReview",props:{average_rating:{},title:{},text:{},images:{}},setup(e){const{average_rating:t}=e,a=(0,i.iH)(Math.floor(t)),l=(0,s.Fl)((()=>5-a.value)),o=(0,d.f)(),{app:n}=(0,c.H)(o);return(e,t)=>((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("div",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value,((e,t)=>((0,s.wg)(),(0,s.iD)("img",{key:t,src:(0,i.SU)(n)["general_star-icon"],alt:"general_star-icon"},null,8,C)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,t)=>((0,s.wg)(),(0,s.iD)("img",{key:t,src:(0,i.SU)(n)["general_in-star-icon"],alt:"general_in-star-icon"},null,8,L)))),128))]),(0,s._)("div",z,[(0,s._)("p",K,(0,r.zw)(e.title),1),(0,s._)("div",{class:"review-description-box__text",innerHTML:e.text},null,8,N)]),(0,s._)("div",R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.images,(e=>((0,s.wg)(),(0,s.iD)("button",F,[(0,s._)("img",{class:"review-images__image",src:e.path,alt:e.path},null,8,O)])))),256))])]))}}),E=(0,M.Z)(W,[["__scopeId","data-v-6c234998"]]);var P=a(4333),q=a(251),G=a.n(q);const Q={class:"buttons"},B=["onClick"],V=(0,s.aZ)({__name:"MenuButtons",props:{chosenItem:{},items:{}},emits:["update:chosenItem"],setup(e,{emit:t}){const{items:a,chosenItem:l}=e,o=t;return(e,t)=>((0,s.wg)(),(0,s.iD)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,r.C_)(["button button_check-box buttons_button",{"button_check-box--active":(0,i.SU)(G())(e.chosenItem,t)}]),onClick:e=>(e=>{o("update:chosenItem",e)})(t)},(0,r.zw)(t.label),11,B)))),256))]))}}),J=(0,M.Z)(V,[["__scopeId","data-v-0fd34393"]]);var X=a(9963);const $={class:"input-box"},ee=["name","multiple"],te=(0,s.aZ)({__name:"FileInput",props:{images:{},buttonText:{},isMultiple:{type:Boolean},name:{}},emits:["update:images"],setup(e,{emit:t}){const{images:a,buttonText:l,isMultiple:o}=e,n=t,c=e=>{let t=e.target.files;for(const e of t)e.src=URL.createObjectURL(e);console.log(t),n("update:images",t)},u=(0,i.iH)(null),d=()=>{u.value.click()};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",$,[(0,s._)("input",{name:e.name+"[]",ref_key:"fileInput",ref:u,onChange:c,style:{display:"none"},multiple:e.isMultiple,type:"file"},null,40,ee),(0,s._)("button",{type:"button",onClick:d,class:"button button_white button_around"},(0,r.zw)(e.buttonText),1)]))}}),ae=(0,M.Z)(te,[["__scopeId","data-v-6af4d9cf"]]);var se=a(5219);const ie=e=>((0,s.dD)("data-v-95d33138"),e=e(),(0,s.Cn)(),e),le={class:"add-review"},oe=["onSubmit"],ne=ie((()=>(0,s._)("p",{class:"title add-review-form__title"},"Добавление отзыва",-1))),re={class:"add-review-form-rate"},ce=["onMouseover","src","alt"],ue={class:"add-review-action-box"},de=ie((()=>(0,s._)("button",{class:"button"},"Отправить",-1))),ve={class:"add-review-chosen-files"},pe={class:"add-review-chosen-files-file"},_e=["src","alt"],ge=(0,s.aZ)({__name:"AddReviewDialog",props:{isAddReviewDialogShow:{type:Boolean},productId:{}},emits:["update:isAddReviewDialogShow"],setup(e,{emit:t}){const a=(0,i.iH)({images:[],title:"",text:"",rating:0}),{isAddReviewDialogShow:l,productId:r}=e,u=t,{user:d}=(0,se.S)(n.ZP),v=async e=>{let t=new FormData(e.target);t.append("product_id",r.toString()),t.append("reviewer",null==d.value?"someone":d.value.data.user_login),t.append("reviewer_email",null==d.value?"someone@example.com":d.value.data.user_email),t.append("rating",a.value.rating.toString()),t.append("title",a.value.title),t.append("review",a.value.text);let s=await o.Z.post("products/reviews",t).then((e=>e.data));console.log(s)},p=e=>{u("update:isAddReviewDialogShow",e)},{app:_}=(0,c.H)(n.ZP);return(e,t)=>{const l=(0,s.up)("my-dialog");return(0,s.wg)(),(0,s.iD)("div",le,[(0,s.Wm)(l,{isDialogShow:e.isAddReviewDialogShow,"onUpdate:isDialogShow":p},{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:(0,X.iM)(v,["prevent"]),class:"add-review-form"},[ne,(0,s._)("div",re,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("img",{class:"add-review-form-rate__image",onMouseover:t=>((e,t)=>{let s=e.target.parentElement.children;for(let e=0;e<t;e++)s[e].src=_.value["general_star-icon"];a.value.rating=t;for(let e=t;e<s.length;e++)s[e].src=_.value["general_in-star-icon"]})(t,e),key:e,src:(0,i.SU)(_)["general_in-star-icon"],alt:e.toString()},null,40,ce))),64))]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.title=e),class:"add-review-form__title-review input",type:"text",placeholder:"Заголовок"},null,512),[[X.nr,a.value.title]]),(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.text=e),class:"add-review-form__text-review text-area",placeholder:"Текст коментария"},null,512),[[X.nr,a.value.text]]),(0,s._)("div",ue,[(0,s.Wm)(ae,{buttonText:"Загрузить изображения",isMultiple:!0,images:a.value.images,"onUpdate:images":t[2]||(t[2]=e=>a.value.images=e),name:"images"},null,8,["images"]),de]),(0,s._)("div",ve,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value.images,(e=>((0,s.wg)(),(0,s.iD)("div",pe,[(0,s._)("img",{class:"add-review-chosen-files-file__image",src:e.src,alt:e.name},null,8,_e)])))),256))])],40,oe)])),_:1},8,["isDialogShow"])])}}}),me=(0,M.Z)(ge,[["__scopeId","data-v-95d33138"]]),we={class:"line-of-graph__text"},he=(0,s.aZ)({__name:"StatsLineOfGraph",props:{value:{},height:{},color:{}},setup(e){const{height:t,value:a,color:i}=e;return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"line-of-graph",style:(0,r.j5)({height:e.height.toString()+"%"})},[(0,s._)("p",we,(0,r.zw)(e.value),1),(0,s._)("div",{class:"line-of-graph__box",style:(0,r.j5)({backgroundColor:e.color})},null,4)],4))}}),fe=(0,M.Z)(he,[["__scopeId","data-v-664b8dbd"]]),be={class:"graph"},De={class:"stats-box"},ye={class:"graph__description"},xe=(0,s.aZ)({__name:"StatsGraph",props:{values:{},name:{}},setup(e){const{values:t,name:a}=e,i=(0,s.Fl)((()=>{let e,a=0;return t.forEach((t=>{t.value>a&&(e=t),a=t.value})),console.log(e),t.map((t=>(t.height=t.value/e.value*100,t)))}));return console.log(i.value),(e,t)=>((0,s.wg)(),(0,s.iD)("div",be,[(0,s._)("div",De,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value,((e,t)=>((0,s.wg)(),(0,s.j4)(fe,{key:t,value:e.value,height:e.height,color:e.color},null,8,["value","height","color"])))),128))]),(0,s._)("div",ye,(0,r.zw)(e.name),1)]))}}),ke=(0,M.Z)(xe,[["__scopeId","data-v-1406b0ad"]]),He={class:"assign"},Se={class:"assign__title"},Ze=(0,s.aZ)({__name:"StatsAssign",props:{color:{},title:{}},setup(e){const{title:t,color:a}=e;return(e,t)=>((0,s.wg)(),(0,s.iD)("div",He,[(0,s._)("div",{class:"assign__box",style:(0,r.j5)({backgroundColor:e.color})},null,4),(0,s._)("p",Se,(0,r.zw)(e.title),1)]))}}),Ie=(0,M.Z)(Ze,[["__scopeId","data-v-0b309f46"]]);var Me=a(3161);const Ue={class:"second-section container"},Ye={class:"second-section-grid"},je={class:"second-section-grid-left"},Te={class:"second-section-description"},Ae={class:"second-section__title title title_secondary"},Ce={key:0,class:"second-section-specs"},Le={key:1,class:"second-section-reviews"},ze={key:0},Ke={key:2,class:"stats-box"},Ne={class:"stats-box-graphs"},Re={class:"stats-box-assigns"},Fe=(0,s.aZ)({__name:"second-section",props:{product:{}},setup(e){const{product:t}=e,{resolutions:a,onMountedAction:l}=(()=>{let e=(0,i.iH)([]);return{resolutions:e,onMountedAction:async()=>{e.value=(await Me.Z.get("resolutions")).data}}})(),{games:n}=((e,t)=>({games:(0,s.Fl)((()=>(e.cfs.statistic_games.map((e=>{let a=e.game_statistic.map((e=>{const a=t.value.find((t=>t.id==e.resolution[0]));e.value=Number(e.fps),e.color=a.cfs.color}));return{game_name:e.game_name,game_statistic:a}})),e.cfs.statistic_games)))}))(t,a),c=(0,i.iH)([{label:"Характеристики",value:"specs"},{label:"Отзывы",value:"reviews"},{label:"ФПС в играх",value:"stats"}]),u=(0,i.iH)({label:"Характеристики",value:"specs"}),d=(0,i.iH)([]),v=(0,i.iH)(!1),p=e=>{v.value=!0},_=(0,i.iH)(!1);return(0,s.bv)((async()=>{await(async()=>{d.value=(await o.Z.get("products/reviews",{params:{product:t.id}})).data})(),await l(),_.value=!0})),(e,t)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ue,[(0,s._)("div",Ye,[(0,s._)("div",je,[(0,s._)("div",Te,[(0,s._)("p",Ae,(0,r.zw)(u.value.label),1),"reviews"===u.value.value?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:p,class:"second-section__button button"},"Добавить отзыв")):(0,s.kq)("v-if",!0)]),"specs"===u.value.value?((0,s.wg)(),(0,s.iD)("div",Ce,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.product.grouped_products,(e=>((0,s.wg)(),(0,s.j4)(P.Z,{specLabel:e.categories.find((e=>"specs"!=e.slug))?.name+": ",spec:e,specValue:e.name},null,8,["specLabel","spec","specValue"])))),256))])):(0,s.kq)("v-if",!0),"reviews"===u.value.value?((0,s.wg)(),(0,s.iD)("div",Le,[0==d.value.length?((0,s.wg)(),(0,s.iD)("p",ze,"Отзывы отсуствуют, будь первым !")):(0,s.kq)("v-if",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.value,(e=>((0,s.wg)(),(0,s.j4)(E,{key:e.id,title:e.title,text:e.review,images:e.images,average_rating:e.rating},null,8,["title","text","images","average_rating"])))),128))])):(0,s.kq)("v-if",!0),"stats"===u.value.value&&_.value?((0,s.wg)(),(0,s.iD)("div",Ke,[(0,s._)("div",Ne,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(n),(e=>((0,s.wg)(),(0,s.j4)(ke,{values:e.game_statistic,name:e.game_name},null,8,["values","name"])))),256))]),(0,s._)("div",Re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(a),(e=>((0,s.wg)(),(0,s.j4)(Ie,{key:e.id,color:e.cfs.color,title:e.cfs.resolution},null,8,["color","title"])))),128))])])):(0,s.kq)("v-if",!0)]),(0,s.Wm)(J,{items:c.value,chosenItem:u.value,"onUpdate:chosenItem":t[0]||(t[0]=e=>u.value=e)},null,8,["items","chosenItem"])])]),(0,s.Wm)(me,{"product-id":e.product.id,"is-add-review-dialog-show":v.value,"onUpdate:isAddReviewDialogShow":t[1]||(t[1]=e=>v.value=e)},null,8,["product-id","is-add-review-dialog-show"])],64))}}),Oe=(0,M.Z)(Fe,[["__scopeId","data-v-e154b662"]]),We={key:0},Ee=(0,s.aZ)({__name:"productPage",setup(e){let t=(0,i.iH)(!1);const a=(0,j.yj)();let{loader:r}=(0,l.d)(1);const c=(0,i.iH)(null);return r.value.onAllisLoaded=()=>{setTimeout((()=>{preloaderClose()}),1e3),r.value.restart()},(0,s.wF)((async()=>{let{page:e}=(0,u.p)(n.ZP);e.value=await(0,Y.T)(258),c.value=(await o.Z.get("products",{params:{slug:a.params.product_slug}})).data[0],console.log(c.value),t.value=!0})),(e,a)=>(0,i.SU)(t)?((0,s.wg)(),(0,s.iD)("main",We,[(0,s.Wm)(U,{product:c.value,onLoad:a[0]||(a[0]=e=>(0,i.SU)(r).load())},null,8,["product"]),(0,s.Wm)(Oe,{product:c.value},null,8,["product"])])):(0,s.kq)("v-if",!0)}})},4654:()=>{}}]);