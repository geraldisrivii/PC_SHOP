/*! For license information please see 542.js.LICENSE.txt */
(self.webpackChunksrc=self.webpackChunksrc||[]).push([[542],{7158:function(e){var t,s;t="undefined"!=typeof window?window:this,s=function(){function e(){}let t=e.prototype;return t.on=function(e,t){if(!e||!t)return this;let s=this._events=this._events||{},i=s[e]=s[e]||[];return i.includes(t)||i.push(t),this},t.once=function(e,t){if(!e||!t)return this;this.on(e,t);let s=this._onceEvents=this._onceEvents||{};return(s[e]=s[e]||{})[t]=!0,this},t.off=function(e,t){let s=this._events&&this._events[e];if(!s||!s.length)return this;let i=s.indexOf(t);return-1!=i&&s.splice(i,1),this},t.emitEvent=function(e,t){let s=this._events&&this._events[e];if(!s||!s.length)return this;s=s.slice(0),t=t||[];let i=this._onceEvents&&this._onceEvents[e];for(let o of s)i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e},e.exports?e.exports=s():t.EvEmitter=s()},7564:function(e,t,s){!function(t,i){e.exports?e.exports=i(t,s(7158)):t.imagesLoaded=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){let s=e.jQuery,i=e.console;function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);let r=e;var a;"string"==typeof e&&(r=document.querySelectorAll(e)),r?(this.elements=(a=r,Array.isArray(a)?a:"object"==typeof a&&"number"==typeof a.length?[...a]:[a]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))):i.error(`Bad element for imagesLoaded ${r||e}`)}o.prototype=Object.create(t.prototype),o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const n=[1,9,11];o.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);let{nodeType:t}=e;if(!t||!n.includes(t))return;let s=e.querySelectorAll("img");for(let e of s)this.addImage(e);if("string"==typeof this.options.background){let t=e.querySelectorAll(this.options.background);for(let e of t)this.addElementBackgroundImages(e)}};const r=/url\((['"])?(.*?)\1\)/gi;function a(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return o.prototype.addElementBackgroundImages=function(e){let t=getComputedStyle(e);if(!t)return;let s=r.exec(t.backgroundImage);for(;null!==s;){let i=s&&s[2];i&&this.addBackground(i,e),s=r.exec(t.backgroundImage)}},o.prototype.addImage=function(e){let t=new a(e);this.images.push(t)},o.prototype.addBackground=function(e,t){let s=new l(e,t);this.images.push(s)},o.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let e=(e,t,s)=>{setTimeout((()=>{this.progress(e,t,s)}))};this.images.forEach((function(t){t.once("progress",e),t.check()}))},o.prototype.progress=function(e,t,s){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&i&&i.log(`progress: ${s}`,e,t)},o.prototype.complete=function(){let e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){let e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=Object.create(t.prototype),a.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},a.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},a.prototype.confirm=function(e,t){this.isLoaded=e;let{parentNode:s}=this.img,i="PICTURE"===s.nodeName?s:this.img;this.emitEvent("progress",[this,i,t])},a.prototype.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(a.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&(s=t,s.fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o}))},7742:(e,t,s)=>{"use strict";s.d(t,{T:()=>o});var i=s(3161);const o=async e=>await i.Z.get("pages/"+e).then((e=>e.data))},8482:(e,t,s)=>{"use strict";s.d(t,{X:()=>o});var i=s(8827);const o=async e=>{let{data:t}=await i.Z.get("products",{params:e||{}});return t}},9268:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var i=s(2262);class o{loadedCounter=0;counter=0;constructor(e){this.counter=e}load(){this.loadedCounter++,this.afterLoad()}restart(e){e&&(this.counter=e),this.loadedCounter=0}onAllisLoaded;afterLoad(){if(this.loadedCounter==this.counter)return this.onAllisLoaded?this.onAllisLoaded():void 0}}const n=e=>({loader:(0,i.iH)(new o(e))})},1303:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var i=s(1820),o=s(6252);const n=e=>({page:(0,o.Fl)({get:()=>e.state.page.cfs,set:t=>e.commit(i.PQ.SET_PAGE_SETTINGS,t)})})},7652:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var i=s(6252),o=s(3577),n=s(2201);const r=["src","alt"],a={class:"product-description"},l={class:"product-description__name"},c={class:"product-description-specs"},u={class:"spec"},d={class:"spec"},p={class:"spec"},h={class:"product__price"},g=(0,i.aZ)({__name:"Product",props:{imageSrc:{},name:{},id:{},slug:{},category_slug:{},grouped_products:{},price:{}},setup(e){const t=e,s=["cpu","gpu","ram","cpu-laptop-specs","gpu-laptop-specs","ram-laptop-specs"],g=(0,i.Fl)((()=>t.grouped_products.filter((e=>e.categories.find((e=>s.includes(e.slug))))))),m=(0,i.Fl)((()=>g.value.find((e=>e.categories.find((e=>e.slug.includes("cpu"))))))),f=(0,i.Fl)((()=>g.value.find((e=>e.categories.find((e=>e.slug.includes("gpu"))))))),v=(0,i.Fl)((()=>g.value.find((e=>e.categories.find((e=>e.slug.includes("ram"))))))),y=(0,n.tv)(),_=()=>{y.push({name:"product",params:{product_slug:t.slug,category:t.category_slug}})};return(e,t)=>((0,i.wg)(),(0,i.iD)("div",{onClick:_,class:"product"},[(0,i._)("img",{class:"product__image",src:e.imageSrc,alt:e.name},null,8,r),(0,i._)("div",a,[(0,i._)("p",l,(0,o.zw)(e.name),1),(0,i._)("div",c,[(0,i._)("div",u,[(0,i._)("p",null,(0,o.zw)(m.value?m.value.cfs.shortly_name:"отсутсвует"),1)]),(0,i._)("div",d,[(0,i._)("p",null,(0,o.zw)(f.value?f.value.cfs.shortly_name:"отсуствует"),1)]),(0,i._)("div",p,[(0,i._)("p",null,(0,o.zw)(v.value?v.value.cfs.shortly_name:"отсуствует"),1)])])]),(0,i._)("p",h,(0,o.zw)(e.price)+" RUB",1)]))}}),m=(0,s(3744).Z)(g,[["__scopeId","data-v-01323eb2"]])},6542:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>B});var i=s(6252),o=s(2262),n=s(7742),r=s(9268),a=s(1303),l=s(3577),c=s(4966),u=s(2201),d=s(7564),p=s.n(d);const h={class:"first-section-container container"},g={class:"image-box"},m=["src","alt"],f={class:"description-box"},v={class:"description-box__title title"},y={class:"description-box__text"},_=(0,i.aZ)({__name:"first-section",emits:["load"],setup(e,{emit:t}){const s=t,n=(0,u.yj)(),d=(0,c.f)();let{page:_}=(0,a.p)(d);const w=(0,o.iH)(_.value["first-section-settings"]),E=(0,i.Fl)((()=>w.value.find((e=>e.category[0].slug==n.params.category)))),k=(0,o.iH)(null),I=(0,o.iH)(null);let{loader:b}=(0,r.d)(1);return b.value.onAllisLoaded=()=>{s("load"),b.value.restart()},(0,i.YP)(n,(async()=>{p()(k.value,(()=>{console.log("first-section-images update 2"),b.value.load()}))}),{deep:!0}),(0,i.bv)((async()=>{p()(k.value,(()=>{console.log("first-section-images update 2"),b.value.load()}))})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{ref_key:"box",ref:k,class:"first-section",style:(0,l.j5)({background:`url('${E.value.background}'), no-repeat center / cover`})},[(0,i._)("div",h,[(0,i._)("div",g,[(0,i._)("img",{ref_key:"image",ref:I,src:E.value.image,alt:E.value.title},null,8,m)]),(0,i._)("div",f,[(0,i._)("p",v,(0,l.zw)(E.value.title),1),(0,i._)("p",y,(0,l.zw)(E.value.text),1)])])],4))}});var w=s(3744);const E=(0,w.Z)(_,[["__scopeId","data-v-7be17782"]]);var k=s(9963),I=s(7652),b=s(8482),L=s(3161);const x={class:"second-section"},j={class:"products-wrapper"},A={class:"products-wrapper__title title"},C={class:"products-box"},S=(0,i.aZ)({__name:"second-section",emits:["load"],setup(e,{emit:t}){const s=t,n=(0,u.yj)(),r=(0,c.f)(),{page:d}=(0,a.p)(r);let p=(0,o.iH)(!1);const{serieses:h,products:g,onMountedAction:m}=(()=>{let e=(0,o.iH)([]),t=(0,o.iH)({});const s={laptop:18,gaming:16,workstation:17};return{serieses:e,products:t,onMountedAction:async i=>{e.value=(await L.Z.get("series")).data,e.value=e.value.filter((e=>e.slug.includes(i))),console.log(e.value),t.value=e.value.map((e=>({[e.slug]:[]}))).reduce(((e,t)=>({...e,...t})),{});for(const e in t.value)t.value[e]=await(0,b.X)({category:s[i],per_page:20,series:e})}}})();return(0,i.YP)(n,(async()=>{await m(n.params.category),s("load")}),{deep:!0}),(0,i.wF)((async()=>{await m(n.params.category),p.value=!0,s("load")})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(h),(e=>((0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("p",A,"Линейка "+(0,l.zw)(e.name),1),(0,i._)("div",C,[(0,i.Wm)(k.W3,{name:"list"},{default:(0,i.w5)((()=>[(0,o.SU)(p)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)((0,o.SU)(g)[e.slug],(e=>((0,i.wg)(),(0,i.j4)(I.Z,{key:e.id,"image-src":e.images[0].src,name:e.name,grouped_products:e.grouped_products,price:e.price,id:e.id,slug:e.slug,category_slug:e.categories[0].slug},null,8,["image-src","name","grouped_products","price","id","slug","category_slug"])))),128)):(0,i.kq)("v-if",!0)])),_:2},1024)])])))),256))]))}}),D=(0,w.Z)(S,[["__scopeId","data-v-3a410f91"]]),q={key:0},B=(0,i.aZ)({__name:"katalog",setup(e){let t=(0,o.iH)(!1);const s=(0,c.f)();let{loader:l}=(0,r.d)(2);l.value.onAllisLoaded=()=>{preloaderClose(),l.value.restart()};let{page:u}=(0,a.p)(s);return(0,i.bv)((async()=>{u.value=await(0,n.T)(190),t.value=!0})),(e,s)=>(0,o.SU)(t)?((0,i.wg)(),(0,i.iD)("main",q,[((0,i.wg)(),(0,i.j4)(E,{key:1,onLoad:s[0]||(s[0]=e=>(0,o.SU)(l).load())})),((0,i.wg)(),(0,i.j4)(D,{key:2,onLoad:s[1]||(s[1]=e=>(0,o.SU)(l).load())}))])):(0,i.kq)("v-if",!0)}})}}]);